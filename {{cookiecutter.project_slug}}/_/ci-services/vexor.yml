# Painless deployment with VEXOR.
# Visit the docs at https://vexor.io/help/#config-file

language: python
python:
  {%- for env in cookiecutter.tests.split(',') if env != "flake8" and env != "pylint" and env != "behave" %}
  - "{{ env|replace('py27','2.7')|replace('py33','3.3')|replace('py34','3.4')|replace('py35','3.5') }}"
  {%- endfor %}

env:
  matrix:  # $ tox -l | xargs -I ARG echo '    - TOXENV=ARG'
    {%- for env in cookiecutter.tests.split(',') if env == "flake8" or env == "pylint" or env == "behave" %}
    - TOXENV={{ env }}
    {%- endfor %}
    - TOXENV=$(echo $TRAVIS_PYTHON_VERSION | sed 's/^\([23]\)\.\([34567]\)/py\1\2/')

install: pip install tox
script: tox

before_cache:
  - rm -rf $HOME/.cache/pip/log
cache:
  directories:
    - $HOME/.cache/pip

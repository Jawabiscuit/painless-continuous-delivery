# Painless deployment with Codeship.
# Visit the docs at https://documentation.codeship.com/docker/steps/

- type: parallel
  steps:
    - name: flake8
      service: app
      command: tox -e flake8
    - name: pylint
      service: app
      command: tox -e pylint
    - name: py27
      service: app
      command: tox -e py27
    - name: py33
      service: app
      command: tox -e py33
    - name: py34
      service: app
      command: tox -e py34
    - name: py35
      service: app
      command: tox -e py35
    - name: pypy
      service: app
      command: tox -e pypy

- name: deploy_staging
  service: app
  command: echo 'This build would deploy to Staging now.'
  tag: master

- name: deploy_master
  service: app
  command: echo 'This build would deploy to Production now.'
  tag: ^v[0-9]+\.[0-9]+\.[0-9]+$
